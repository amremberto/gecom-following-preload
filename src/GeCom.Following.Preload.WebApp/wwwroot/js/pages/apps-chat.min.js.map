{"version":3,"file":"apps-chat.min.js","names":["ChatApp","constructor","this","messagesScrollWrapper","document","querySelector","messagesList","messagesSimplebar","chatForm","chatInput","SimpleBar","getMessageHTML","message","addNewMessage","innerHTML","scrollToBottom","initForm","addEventListener","e","preventDefault","data","Object","fromEntries","FormData","target","entries","trim","length","reset","value","smooth","getScrollElement","last","scrollHeight","style","scrollBehavior","scrollTop","init","window","loadChat"],"sources":["apps-chat.js"],"mappings":"AAAA,MAAMA,QACJ,WAAAC,GACEC,KAAKC,sBAAwBC,SAASC,cACpC,8CAEFH,KAAKI,aAAeF,SAASC,cAC3B,oCAEFH,KAAKK,kBAAoB,KACzBL,KAAKM,SAAWJ,SAASC,cAAc,cACnCH,KAAKM,WAAUN,KAAKO,UAAYP,KAAKM,SAASH,cAAc,UAC5DH,KAAKC,wBACPD,KAAKK,kBAAoB,IAAIG,UAAUR,KAAKC,uBAChD,CAEAQ,eAAkBC,GACT,4eAUsBA,+hCAoB/BC,cAAiBD,IACXV,KAAKI,eACPJ,KAAKI,aAAaQ,WAAaZ,KAAKS,eAAeC,GACnDV,KAAKa,gBAAe,KAIxBC,SAAW,KACTd,KAAKM,UAAUS,iBAAiB,SAAWC,IACzCA,EAAEC,iBACF,MAAMC,EAAOC,OAAOC,YAAY,IAAIC,SAASL,EAAEM,QAAQC,WACnDL,EAAKR,UAC4B,IAA/BQ,EAAKR,QAAQc,OAAOC,OACtBzB,KAAKM,SAASoB,SAEd1B,KAAKO,UAAUoB,MAAQ,IACvB3B,KAAKW,cAAcO,EAAc,cAOzCL,eAAiB,CAACe,GAAS,KACzB,GAAI5B,KAAKK,mBAAqBL,KAAKK,kBAAkBwB,mBAAoB,CACvE,MAAMC,EAAO9B,KAAKK,kBAAkBwB,mBAAmBE,aACnDH,IACF5B,KAAKK,kBAAkBwB,mBAAmBG,MAAMC,eAC9C,UACJjC,KAAKK,kBAAkBwB,mBAAmBK,UAAYJ,CACxD,GAGFK,KAAO,KACLnC,KAAKa,iBACLb,KAAKc,YAITsB,OAAOC,SAAW,YAChB,IAAIvC,SAAUqC,MAChB","ignoreList":[],"sourcesContent":["class ChatApp {\r\n  constructor() {\r\n    this.messagesScrollWrapper = document.querySelector(\r\n      '[data-apps-chat=\"messages-scroll-wrapper\"]'\r\n    );\r\n    this.messagesList = document.querySelector(\r\n      '[data-apps-chat=\"messages-list\"]'\r\n    );\r\n    this.messagesSimplebar = null;\r\n    this.chatForm = document.querySelector(\"#chat-form\");\r\n    if (this.chatForm) this.chatInput = this.chatForm.querySelector(\"input\");\r\n    if (this.messagesScrollWrapper)\r\n      this.messagesSimplebar = new SimpleBar(this.messagesScrollWrapper);\r\n  }\r\n\r\n  getMessageHTML = (message) => {\r\n    return `<li class=\"chat-group odd\" id=\"odd-1\">\r\n                    <img src=\"/images/users/avatar-1.jpg\" class=\"avatar-sm rounded-circle\" alt=\"avatar-1\" />\r\n\r\n                    <div class=\"chat-body\">\r\n                        <div>\r\n                            <h6 class=\"d-inline-flex\">You.</h6>\r\n                            <h6 class=\"d-inline-flex text-muted\">10:05pm</h6>\r\n                        </div>\r\n\r\n                        <div class=\"chat-message\">\r\n                            <p>${message}</p>\r\n\r\n                            <div class=\"chat-actions dropdown\">\r\n                                <button class=\"btn btn-sm btn-link\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\r\n                                    <i class=\"ti ti-dots-vertical\"></i>\r\n                                </button>\r\n\r\n                                <div class=\"dropdown-menu\">\r\n                                    <a class=\"dropdown-item\" href=\"#\"><i class=\"ti ti-copy fs-14 align-text-top me-1\"></i>\r\n                                        Copy Message</a>\r\n                                    <a class=\"dropdown-item\" href=\"#\"><i class=\"ti ti-edit-circle fs-14 align-text-top me-1\"></i>\r\n                                        Edit</a>\r\n                                    <a class=\"dropdown-item\" href=\"#\" data-dismissible=\"#odd-1\"><i class=\"ti ti-trash fs-14 align-text-top me-1\"></i>Delete</a>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </li>`;\r\n  };\r\n\r\n  addNewMessage = (message) => {\r\n    if (this.messagesList) {\r\n      this.messagesList.innerHTML += this.getMessageHTML(message);\r\n      this.scrollToBottom(true);\r\n    }\r\n  };\r\n\r\n  initForm = () => {\r\n    this.chatForm?.addEventListener(\"submit\", (e) => {\r\n      e.preventDefault();\r\n      const data = Object.fromEntries(new FormData(e.target).entries());\r\n      if (data.message) {\r\n        if (data.message.trim().length === 0) {\r\n          this.chatForm.reset();\r\n        } else {\r\n          this.chatInput.value = \" \";\r\n          this.addNewMessage(data[\"message\"]);\r\n          // this.chatForm.reset();\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  scrollToBottom = (smooth = false) => {\r\n    if (this.messagesSimplebar && this.messagesSimplebar.getScrollElement()) {\r\n      const last = this.messagesSimplebar.getScrollElement().scrollHeight;\r\n      if (smooth)\r\n        this.messagesSimplebar.getScrollElement().style.scrollBehavior =\r\n          \"smooth\";\r\n      this.messagesSimplebar.getScrollElement().scrollTop = last;\r\n    }\r\n  };\r\n\r\n  init = () => {\r\n    this.scrollToBottom();\r\n    this.initForm();\r\n  };\r\n}\r\n\r\nwindow.loadChat = function () {\r\n  new ChatApp().init();\r\n};\r\n"]}