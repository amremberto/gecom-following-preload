{"version":3,"file":"apps-chat.min.js","names":["ChatApp","constructor","this","messagesScrollWrapper","document","querySelector","messagesList","messagesSimplebar","chatForm","chatInput","SimpleBar","getMessageHTML","message","addNewMessage","innerHTML","scrollToBottom","initForm","addEventListener","e","preventDefault","data","Object","fromEntries","FormData","target","entries","trim","length","reset","value","smooth","getScrollElement","last","scrollHeight","style","scrollBehavior","scrollTop","init","window","loadChat"],"sources":["apps-chat.js"],"mappings":"AAAA,MAAMA,QACJ,WAAAC,GACEC,KAAKC,sBAAwBC,SAASC,cACpC,8CAEFH,KAAKI,aAAeF,SAASC,cAC3B,oCAEFH,KAAKK,kBAAoB,KACzBL,KAAKM,SAAWJ,SAASC,cAAc,cACnCH,KAAKM,WAAUN,KAAKO,UAAYP,KAAKM,SAASH,cAAc,UAC5DH,KAAKC,wBACPD,KAAKK,kBAAoB,IAAIG,UAAUR,KAAKC,uBAChD,CAEAQ,eAAkBC,GACT,4eAUsBA,+hCAoB/BC,cAAiBD,IACXV,KAAKI,eACPJ,KAAKI,aAAaQ,WAAaZ,KAAKS,eAAeC,GACnDV,KAAKa,gBAAe,KAIxBC,SAAW,KACTd,KAAKM,UAAUS,iBAAiB,SAAWC,IACzCA,EAAEC,iBACF,MAAMC,EAAOC,OAAOC,YAAY,IAAIC,SAASL,EAAEM,QAAQC,WACnDL,EAAKR,UAC4B,IAA/BQ,EAAKR,QAAQc,OAAOC,OACtBzB,KAAKM,SAASoB,SAEd1B,KAAKO,UAAUoB,MAAQ,IACvB3B,KAAKW,cAAcO,EAAc,cAOzCL,eAAiB,CAACe,GAAS,KACzB,GAAI5B,KAAKK,mBAAqBL,KAAKK,kBAAkBwB,mBAAoB,CACvE,MAAMC,EAAO9B,KAAKK,kBAAkBwB,mBAAmBE,aACnDH,IACF5B,KAAKK,kBAAkBwB,mBAAmBG,MAAMC,eAC9C,UACJjC,KAAKK,kBAAkBwB,mBAAmBK,UAAYJ,CACxD,GAGFK,KAAO,KACLnC,KAAKa,iBACLb,KAAKc,YAITsB,OAAOC,SAAW,YAChB,IAAIvC,SAAUqC,MAChB","ignoreList":[],"sourcesContent":["class ChatApp {\n  constructor() {\n    this.messagesScrollWrapper = document.querySelector(\n      '[data-apps-chat=\"messages-scroll-wrapper\"]'\n    );\n    this.messagesList = document.querySelector(\n      '[data-apps-chat=\"messages-list\"]'\n    );\n    this.messagesSimplebar = null;\n    this.chatForm = document.querySelector(\"#chat-form\");\n    if (this.chatForm) this.chatInput = this.chatForm.querySelector(\"input\");\n    if (this.messagesScrollWrapper)\n      this.messagesSimplebar = new SimpleBar(this.messagesScrollWrapper);\n  }\n\n  getMessageHTML = (message) => {\n    return `<li class=\"chat-group odd\" id=\"odd-1\">\n                    <img src=\"/images/users/avatar-1.jpg\" class=\"avatar-sm rounded-circle\" alt=\"avatar-1\" />\n\n                    <div class=\"chat-body\">\n                        <div>\n                            <h6 class=\"d-inline-flex\">You.</h6>\n                            <h6 class=\"d-inline-flex text-muted\">10:05pm</h6>\n                        </div>\n\n                        <div class=\"chat-message\">\n                            <p>${message}</p>\n\n                            <div class=\"chat-actions dropdown\">\n                                <button class=\"btn btn-sm btn-link\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\n                                    <i class=\"ti ti-dots-vertical\"></i>\n                                </button>\n\n                                <div class=\"dropdown-menu\">\n                                    <a class=\"dropdown-item\" href=\"#\"><i class=\"ti ti-copy fs-14 align-text-top me-1\"></i>\n                                        Copy Message</a>\n                                    <a class=\"dropdown-item\" href=\"#\"><i class=\"ti ti-edit-circle fs-14 align-text-top me-1\"></i>\n                                        Edit</a>\n                                    <a class=\"dropdown-item\" href=\"#\" data-dismissible=\"#odd-1\"><i class=\"ti ti-trash fs-14 align-text-top me-1\"></i>Delete</a>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </li>`;\n  };\n\n  addNewMessage = (message) => {\n    if (this.messagesList) {\n      this.messagesList.innerHTML += this.getMessageHTML(message);\n      this.scrollToBottom(true);\n    }\n  };\n\n  initForm = () => {\n    this.chatForm?.addEventListener(\"submit\", (e) => {\n      e.preventDefault();\n      const data = Object.fromEntries(new FormData(e.target).entries());\n      if (data.message) {\n        if (data.message.trim().length === 0) {\n          this.chatForm.reset();\n        } else {\n          this.chatInput.value = \" \";\n          this.addNewMessage(data[\"message\"]);\n          // this.chatForm.reset();\n        }\n      }\n    });\n  };\n\n  scrollToBottom = (smooth = false) => {\n    if (this.messagesSimplebar && this.messagesSimplebar.getScrollElement()) {\n      const last = this.messagesSimplebar.getScrollElement().scrollHeight;\n      if (smooth)\n        this.messagesSimplebar.getScrollElement().style.scrollBehavior =\n          \"smooth\";\n      this.messagesSimplebar.getScrollElement().scrollTop = last;\n    }\n  };\n\n  init = () => {\n    this.scrollToBottom();\n    this.initForm();\n  };\n}\n\nwindow.loadChat = function () {\n  new ChatApp().init();\n};\n"]}