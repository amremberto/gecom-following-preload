{"version":3,"file":"form-flatpickr.min.js","names":["window","initFlatpickrWithStrictValidation","selector","options","flatpickr","input","document","querySelector","console","warn","_flatpickr","destroy","flatpickrOptions","Object","assign","dateFormat","allowInput","locale","onReady","selectedDates","dateStr","instance","addEventListener","this","value","length","setCustomValidity","classList","add","remove","onChange","error","destroyFlatpickr","cleanupFlatpickrInModal"],"sources":["form-flatpickr.js"],"mappings":"AAWAA,OAAOC,kCAAoC,SAAUC,EAAUC,GAC3D,GAAyB,oBAAdC,UAKX,IACI,IAAIC,EAAQC,SAASC,cAAcL,GACnC,IAAKG,EAED,YADAG,QAAQC,KAAK,2BAA4BP,GAKzCG,EAAMK,YACNL,EAAMK,WAAWC,UAIrB,IAgCIC,EAAmBC,OAAOC,OAAO,CAAC,EAhCjB,CACjBC,WAAY,QACZC,YAAY,EACZC,OAAQ,KAERC,QAAS,SAAUC,EAAeC,EAASC,GAEvCA,EAAShB,MAAMiB,iBAAiB,OAAQ,WAChCC,KAAKC,QAAUH,EAASF,cAAcM,QAEtCF,KAAKC,MAAQ,GACbD,KAAKG,kBAAkB,4BACvBH,KAAKI,UAAUC,IAAI,gBAEnBL,KAAKG,kBAAkB,IACvBH,KAAKI,UAAUE,OAAO,cAClBN,KAAKC,OACLD,KAAKI,UAAUC,IAAI,YAG/B,EACJ,EACAE,SAAU,SAAUX,EAAeC,EAASC,GACpCF,EAAcM,OAAS,IACvBJ,EAAShB,MAAMqB,kBAAkB,IACjCL,EAAShB,MAAMsB,UAAUE,OAAO,cAChCR,EAAShB,MAAMsB,UAAUC,IAAI,YAErC,GAIqDzB,GAGzDC,UAAUC,EAAOO,EACrB,CAAE,MAAOmB,GACLvB,QAAQuB,MAAM,kCAAmCA,EACrD,MAvDIvB,QAAQuB,MAAM,2BAwDtB,EAMA/B,OAAOgC,iBAAmB,SAAU9B,GAChC,IACI,IAAIG,EAAQC,SAASC,cAAcL,GAC/BG,GAASA,EAAMK,YACfL,EAAMK,WAAWC,SAEzB,CAAE,MAAOoB,GACLvB,QAAQuB,MAAM,+BAAgCA,EAClD,CACJ,EAKA/B,OAAOiC,wBAA0B,WAC7BD,iBAAiB,uBACjBA,iBAAiB,oBACrB","ignoreList":[],"sourcesContent":["/**\r\n * Theme: Adminto - Responsive Bootstrap 5 Admin Dashboard\r\n * Author: Coderthemes\r\n * Module/App: Flatpickr Date Picker Components\r\n */\r\n\r\n/**\r\n * Initializes Flatpickr with strict validation for a date input\r\n * @param {string} selector - CSS selector for the input element\r\n * @param {object} options - Flatpickr options (defaultDate, etc.)\r\n */\r\nwindow.initFlatpickrWithStrictValidation = function (selector, options) {\r\n    if (typeof flatpickr === 'undefined') {\r\n        console.error('Flatpickr is not loaded.');\r\n        return;\r\n    }\r\n\r\n    try {\r\n        var input = document.querySelector(selector);\r\n        if (!input) {\r\n            console.warn('Input element not found:', selector);\r\n            return;\r\n        }\r\n\r\n        // Destroy existing Flatpickr instance if it exists\r\n        if (input._flatpickr) {\r\n            input._flatpickr.destroy();\r\n        }\r\n\r\n        // Default options\r\n        var defaultOptions = {\r\n            dateFormat: 'd/m/Y',\r\n            allowInput: true,\r\n            locale: 'es',\r\n            // Strict validation: only allow valid dates\r\n            onReady: function (selectedDates, dateStr, instance) {\r\n                // Add custom validation\r\n                instance.input.addEventListener('blur', function () {\r\n                    if (this.value && !instance.selectedDates.length) {\r\n                        // Invalid date entered, clear it\r\n                        this.value = '';\r\n                        this.setCustomValidity('Ingrese una fecha vÃ¡lida');\r\n                        this.classList.add('is-invalid');\r\n                    } else {\r\n                        this.setCustomValidity('');\r\n                        this.classList.remove('is-invalid');\r\n                        if (this.value) {\r\n                            this.classList.add('is-valid');\r\n                        }\r\n                    }\r\n                });\r\n            },\r\n            onChange: function (selectedDates, dateStr, instance) {\r\n                if (selectedDates.length > 0) {\r\n                    instance.input.setCustomValidity('');\r\n                    instance.input.classList.remove('is-invalid');\r\n                    instance.input.classList.add('is-valid');\r\n                }\r\n            }\r\n        };\r\n\r\n        // Merge with provided options\r\n        var flatpickrOptions = Object.assign({}, defaultOptions, options);\r\n\r\n        // Initialize Flatpickr\r\n        flatpickr(input, flatpickrOptions);\r\n    } catch (error) {\r\n        console.error('Error al inicializar Flatpickr:', error);\r\n    }\r\n};\r\n\r\n/**\r\n * Destroys Flatpickr instance for a date input\r\n * @param {string} selector - CSS selector for the input element\r\n */\r\nwindow.destroyFlatpickr = function (selector) {\r\n    try {\r\n        var input = document.querySelector(selector);\r\n        if (input && input._flatpickr) {\r\n            input._flatpickr.destroy();\r\n        }\r\n    } catch (error) {\r\n        console.error('Error al destruir Flatpickr:', error);\r\n    }\r\n};\r\n\r\n/**\r\n * Cleans up all Flatpickr instances in the edit document modal\r\n */\r\nwindow.cleanupFlatpickrInModal = function () {\r\n    destroyFlatpickr('#fecha-factura-edit');\r\n    destroyFlatpickr('#venc-caecai-edit');\r\n};\r\n"]}