{"version":3,"file":"form-select2.min.js","names":["window","initSelect2","selector","options","selectedValue","$","$select","length","console","warn","data","select2","select2Options","Object","assign","placeholder","allowClear","width","language","on","selectElement","this","setTimeout","value","removeClass","hasAttribute","val","addClass","setCustomValidity","trigger","dataValue","attr","error","destroySelect2","initCurrencySelect2","dropdownParent","initDocumentTypeSelect2","initSocietySelect2","cleanupSelect2InModal"],"sources":["form-select2.js"],"mappings":"AAYAA,OAAOC,YAAc,SAAUC,EAAUC,EAASC,GAC9C,GAAiB,oBAANC,EAKX,IACI,IAAIC,EAAUD,EAAEH,GAChB,GAAuB,IAAnBI,EAAQC,OAER,YADAC,QAAQC,KAAK,4BAA6BP,GAK1CI,EAAQI,KAAK,YACbJ,EAAQK,QAAQ,WAIpB,IAQIC,EAAiBC,OAAOC,OAAO,CAAC,EARf,CACjBC,YAAa,wBACbC,YAAY,EACZC,MAAO,OACPC,SAAU,MAIyCf,GAsCvD,GAnCAG,EAAQK,QAAQC,GAIhBN,EAAQa,GAAG,+BAAgC,WACvC,IAAIC,EAAgBC,KACpBC,WAAW,WAMH,IAcIC,GAlBRlB,EAAEe,GAAeI,YAAY,uBAGzBJ,EAAcK,aAAa,cACvBF,EAAQlB,EAAEe,GAAeM,QACN,KAAVH,GAA0B,OAAVA,GAEzBlB,EAAEe,GAAeO,SAAS,YAC1BtB,EAAEe,GAAeI,YAAY,cAC7BJ,EAAcQ,kBAAkB,MAGhCvB,EAAEe,GAAeO,SAAS,cAC1BtB,EAAEe,GAAeI,YAAY,YAC7BJ,EAAcQ,kBAAkB,qCAIhCL,EAAQlB,EAAEe,GAAeM,QACN,KAAVH,GAA0B,OAAVA,GACzBlB,EAAEe,GAAeO,SAAS,WAGtC,EAAG,GACP,GAGIvB,EACAE,EAAQoB,IAAItB,GAAeyB,QAAQ,sBAChC,CAEH,IAAIC,EAAYxB,EAAQyB,KAAK,uBACzBD,GACAxB,EAAQoB,IAAII,GAAWD,QAAQ,iBAEvC,CAGAP,WAAW,WACP,IAAIC,EAAQjB,EAAQoB,MAChBpB,EAAQ,GAAGmB,aAAa,YACpBF,GAAmB,KAAVA,GAA0B,OAAVA,GACzBjB,EAAQqB,SAAS,YACjBrB,EAAQkB,YAAY,cACpBlB,EAAQ,GAAGsB,kBAAkB,MAE7BtB,EAAQqB,SAAS,cACjBrB,EAAQkB,YAAY,YACpBlB,EAAQ,GAAGsB,kBAAkB,oCAE1BL,GAAmB,KAAVA,GAA0B,OAAVA,GAChCjB,EAAQqB,SAAS,WAEzB,EAAG,IACP,CAAE,MAAOK,GACLxB,QAAQwB,MAAM,gCAAiCA,EACnD,MA5FIxB,QAAQwB,MAAM,iDA6FtB,EAMAhC,OAAOiC,eAAiB,SAAU/B,GAC9B,GAAiB,oBAANG,EAKX,IACI,IAAIC,EAAUD,EAAEH,GACZI,EAAQC,OAAS,GAAKD,EAAQI,KAAK,YACnCJ,EAAQK,QAAQ,UAExB,CAAE,MAAOqB,GACLxB,QAAQwB,MAAM,6BAA8BA,EAChD,MAXIxB,QAAQwB,MAAM,uBAYtB,EAMAhC,OAAOkC,oBAAsB,SAAU9B,GACnCH,YAAY,wBAAyB,CACjCc,YAAa,wBACbC,YAAY,EACZC,MAAO,OACPkB,eAAgB9B,EAAE,yBACnBD,EACP,EAMAJ,OAAOoC,wBAA0B,SAAUhC,GACvCH,YAAY,6BAA8B,CACtCc,YAAa,kCACbC,YAAY,EACZC,MAAO,OACPkB,eAAgB9B,EAAE,yBACnBD,EACP,EAMAJ,OAAOqC,mBAAqB,SAAUjC,GAClCH,YAAY,uBAAwB,CAChCc,YAAa,wBACbC,YAAY,EACZC,MAAO,OACPkB,eAAgB9B,EAAE,yBACnBD,EACP,EAKAJ,OAAOsC,sBAAwB,WAC3BL,eAAe,yBACfA,eAAe,8BACfA,eAAe,uBACnB","ignoreList":[],"sourcesContent":["/**\r\n * Theme: Adminto - Responsive Bootstrap 5 Admin Dashboard\r\n * Author: Coderthemes\r\n * Module/App: SELECT2 Form Components\r\n */\r\n\r\n/**\r\n * Initializes SELECT2 for a select element\r\n * @param {string} selector - jQuery selector for the select element\r\n * @param {object} options - SELECT2 options (placeholder, allowClear, width, dropdownParent)\r\n * @param {string} selectedValue - Optional selected value to set after initialization\r\n */\r\nwindow.initSelect2 = function (selector, options, selectedValue) {\r\n    if (typeof $ === 'undefined') {\r\n        console.error('jQuery is not loaded. SELECT2 requires jQuery.');\r\n        return;\r\n    }\r\n\r\n    try {\r\n        var $select = $(selector);\r\n        if ($select.length === 0) {\r\n            console.warn('Select element not found:', selector);\r\n            return;\r\n        }\r\n\r\n        // Destroy existing SELECT2 instance if it exists\r\n        if ($select.data('select2')) {\r\n            $select.select2('destroy');\r\n        }\r\n\r\n        // Default options\r\n        var defaultOptions = {\r\n            placeholder: 'Seleccione una opción',\r\n            allowClear: true,\r\n            width: '100%',\r\n            language: 'es'\r\n        };\r\n\r\n        // Merge with provided options\r\n        var select2Options = Object.assign({}, defaultOptions, options);\r\n\r\n        // Initialize SELECT2\r\n        $select.select2(select2Options);\r\n\r\n        // Add validation listeners for SELECT2\r\n        // Apply Bootstrap validation classes when value changes\r\n        $select.on('select2:select select2:clear', function () {\r\n            var selectElement = this;\r\n            setTimeout(function () {\r\n                // Remove both validation classes first\r\n                $(selectElement).removeClass('is-valid is-invalid');\r\n                \r\n                // Check if field is required\r\n                if (selectElement.hasAttribute('required')) {\r\n                    var value = $(selectElement).val();\r\n                    if (value && value !== '' && value !== null) {\r\n                        // Valid value selected\r\n                        $(selectElement).addClass('is-valid');\r\n                        $(selectElement).removeClass('is-invalid');\r\n                        selectElement.setCustomValidity('');\r\n                    } else {\r\n                        // No value selected (invalid for required field)\r\n                        $(selectElement).addClass('is-invalid');\r\n                        $(selectElement).removeClass('is-valid');\r\n                        selectElement.setCustomValidity('Por favor seleccione una opción');\r\n                    }\r\n                } else {\r\n                    // Not required, but if has value, mark as valid\r\n                    var value = $(selectElement).val();\r\n                    if (value && value !== '' && value !== null) {\r\n                        $(selectElement).addClass('is-valid');\r\n                    }\r\n                }\r\n            }, 10);\r\n        });\r\n\r\n        // Set the selected value AFTER SELECT2 initialization\r\n        if (selectedValue) {\r\n            $select.val(selectedValue).trigger('change.select2');\r\n        } else {\r\n            // Try to get value from data attribute\r\n            var dataValue = $select.attr('data-selected-value');\r\n            if (dataValue) {\r\n                $select.val(dataValue).trigger('change.select2');\r\n            }\r\n        }\r\n        \r\n        // Validate initial value after a short delay to ensure SELECT2 is fully initialized\r\n        setTimeout(function () {\r\n            var value = $select.val();\r\n            if ($select[0].hasAttribute('required')) {\r\n                if (value && value !== '' && value !== null) {\r\n                    $select.addClass('is-valid');\r\n                    $select.removeClass('is-invalid');\r\n                    $select[0].setCustomValidity('');\r\n                } else {\r\n                    $select.addClass('is-invalid');\r\n                    $select.removeClass('is-valid');\r\n                    $select[0].setCustomValidity('Por favor seleccione una opción');\r\n                }\r\n            } else if (value && value !== '' && value !== null) {\r\n                $select.addClass('is-valid');\r\n            }\r\n        }, 100);\r\n    } catch (error) {\r\n        console.error('Error al inicializar SELECT2:', error);\r\n    }\r\n};\r\n\r\n/**\r\n * Destroys SELECT2 instance for a select element\r\n * @param {string} selector - jQuery selector for the select element\r\n */\r\nwindow.destroySelect2 = function (selector) {\r\n    if (typeof $ === 'undefined') {\r\n        console.error('jQuery is not loaded');\r\n        return;\r\n    }\r\n\r\n    try {\r\n        var $select = $(selector);\r\n        if ($select.length > 0 && $select.data('select2')) {\r\n            $select.select2('destroy');\r\n        }\r\n    } catch (error) {\r\n        console.error('Error al destruir SELECT2:', error);\r\n    }\r\n};\r\n\r\n/**\r\n * Initializes SELECT2 for currency dropdown in edit document modal\r\n * @param {string} selectedValue - Optional selected currency code\r\n */\r\nwindow.initCurrencySelect2 = function (selectedValue) {\r\n    initSelect2('#currency-select-edit', {\r\n        placeholder: 'Seleccione una moneda',\r\n        allowClear: true,\r\n        width: '100%',\r\n        dropdownParent: $('#edit-document-modal')\r\n    }, selectedValue);\r\n};\r\n\r\n/**\r\n * Initializes SELECT2 for document type dropdown in edit document modal\r\n * @param {string} selectedValue - Optional selected document type ID\r\n */\r\nwindow.initDocumentTypeSelect2 = function (selectedValue) {\r\n    initSelect2('#document-type-select-edit', {\r\n        placeholder: 'Seleccione un tipo de documento',\r\n        allowClear: true,\r\n        width: '100%',\r\n        dropdownParent: $('#edit-document-modal')\r\n    }, selectedValue);\r\n};\r\n\r\n/**\r\n * Initializes SELECT2 for society dropdown in edit document modal\r\n * @param {string} selectedValue - Optional selected society CUIT\r\n */\r\nwindow.initSocietySelect2 = function (selectedValue) {\r\n    initSelect2('#society-select-edit', {\r\n        placeholder: 'Seleccione un cliente',\r\n        allowClear: true,\r\n        width: '100%',\r\n        dropdownParent: $('#edit-document-modal')\r\n    }, selectedValue);\r\n};\r\n\r\n/**\r\n * Cleans up all SELECT2 instances in the edit document modal\r\n */\r\nwindow.cleanupSelect2InModal = function () {\r\n    destroySelect2('#currency-select-edit');\r\n    destroySelect2('#document-type-select-edit');\r\n    destroySelect2('#society-select-edit');\r\n};\r\n"]}