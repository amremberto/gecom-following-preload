{"version":3,"file":"form-select2.min.js","names":["window","initSelect2","selector","options","selectedValue","$","$select","length","console","warn","data","select2","select2Options","Object","assign","placeholder","allowClear","width","language","applyValidationClasses","$selectElement","value","selectElement","$container","select2Data","selectId","id","next","parent","find","first","removeClass","hasAttribute","val","addClass","setCustomValidity","on","this","setTimeout","trigger","dataValue","attr","error","destroySelect2","initCurrencySelect2","dropdownParent","initDocumentTypeSelect2","initSocietySelect2","initProviderSelect2","cleanupSelect2InModal"],"sources":["form-select2.js"],"mappings":"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","ignoreList":[],"sourcesContent":["/**\r\n * Theme: Adminto - Responsive Bootstrap 5 Admin Dashboard\r\n * Author: Coderthemes\r\n * Module/App: SELECT2 Form Components\r\n */\r\n\r\n/**\r\n * Initializes SELECT2 for a select element\r\n * @param {string} selector - jQuery selector for the select element\r\n * @param {object} options - SELECT2 options (placeholder, allowClear, width, dropdownParent)\r\n * @param {string} selectedValue - Optional selected value to set after initialization\r\n */\r\nwindow.initSelect2 = function (selector, options, selectedValue) {\r\n    if (typeof $ === 'undefined') {\r\n        console.error('jQuery is not loaded. SELECT2 requires jQuery.');\r\n        return;\r\n    }\r\n\r\n    try {\r\n        var $select = $(selector);\r\n        if ($select.length === 0) {\r\n            console.warn('Select element not found:', selector);\r\n            return;\r\n        }\r\n\r\n        // Destroy existing SELECT2 instance if it exists\r\n        if ($select.data('select2')) {\r\n            $select.select2('destroy');\r\n        }\r\n\r\n        // Default options\r\n        var defaultOptions = {\r\n            placeholder: 'Seleccione una opción',\r\n            allowClear: true,\r\n            width: '100%',\r\n            language: 'es'\r\n        };\r\n\r\n        // Merge with provided options\r\n        var select2Options = Object.assign({}, defaultOptions, options);\r\n\r\n        // Initialize SELECT2\r\n        $select.select2(select2Options);\r\n\r\n        // Helper function to apply validation classes to SELECT2\r\n        var applyValidationClasses = function($selectElement) {\r\n            var selectElement = $selectElement[0];\r\n            \r\n            // Get SELECT2 container using SELECT2 API (most reliable method)\r\n            var $container = null;\r\n            if ($selectElement.data('select2')) {\r\n                var select2Data = $selectElement.data('select2');\r\n                if (select2Data && select2Data.$container && select2Data.$container.length > 0) {\r\n                    $container = select2Data.$container;\r\n                }\r\n            }\r\n            \r\n            // Fallback: try to find container by ID or next to select\r\n            if (!$container || $container.length === 0) {\r\n                var selectId = selectElement.id || '';\r\n                if (selectId) {\r\n                    // SELECT2 creates container with ID based on select ID\r\n                    $container = $('#select2-' + selectId + '-container');\r\n                }\r\n                // If still not found, try next sibling\r\n                if (!$container || $container.length === 0) {\r\n                    $container = $selectElement.next('.select2-container');\r\n                }\r\n                // Last resort: search in parent\r\n                if (!$container || $container.length === 0) {\r\n                    $container = $selectElement.parent().find('.select2-container').first();\r\n                }\r\n            }\r\n            \r\n            // Remove both validation classes first from both SELECT and container\r\n            $selectElement.removeClass('is-valid is-invalid');\r\n            if ($container && $container.length > 0) {\r\n                $container.removeClass('is-valid is-invalid');\r\n            }\r\n            \r\n            // Check if field is required\r\n            if (selectElement.hasAttribute('required')) {\r\n                var value = $selectElement.val();\r\n                if (value && value !== '' && value !== null) {\r\n                    // Valid value selected - apply to both SELECT and container\r\n                    $selectElement.addClass('is-valid');\r\n                    $selectElement.removeClass('is-invalid');\r\n                    if ($container && $container.length > 0) {\r\n                        $container.addClass('is-valid');\r\n                        $container.removeClass('is-invalid');\r\n                    }\r\n                    selectElement.setCustomValidity('');\r\n                } else {\r\n                    // No value selected (invalid for required field)\r\n                    $selectElement.addClass('is-invalid');\r\n                    $selectElement.removeClass('is-valid');\r\n                    if ($container && $container.length > 0) {\r\n                        $container.addClass('is-invalid');\r\n                        $container.removeClass('is-valid');\r\n                    }\r\n                    selectElement.setCustomValidity('Por favor seleccione una opción');\r\n                }\r\n            } else {\r\n                // Not required, but if has value, mark as valid\r\n                var value = $selectElement.val();\r\n                if (value && value !== '' && value !== null) {\r\n                    $selectElement.addClass('is-valid');\r\n                    if ($container && $container.length > 0) {\r\n                        $container.addClass('is-valid');\r\n                    }\r\n                }\r\n            }\r\n        };\r\n\r\n        // Add validation listeners for SELECT2\r\n        // Apply Bootstrap validation classes when value changes\r\n        $select.on('select2:select select2:clear', function () {\r\n            var $selectElement = $(this);\r\n            setTimeout(function () {\r\n                applyValidationClasses($selectElement);\r\n            }, 10);\r\n        });\r\n\r\n        // Set the selected value AFTER SELECT2 initialization\r\n        if (selectedValue) {\r\n            $select.val(selectedValue).trigger('change.select2');\r\n        } else {\r\n            // Try to get value from data attribute\r\n            var dataValue = $select.attr('data-selected-value');\r\n            if (dataValue) {\r\n                $select.val(dataValue).trigger('change.select2');\r\n            }\r\n        }\r\n        \r\n        // Validate initial value after a delay to ensure SELECT2 is fully initialized\r\n        // SELECT2 needs time to create the container DOM element\r\n        setTimeout(function () {\r\n            applyValidationClasses($select);\r\n        }, 300);\r\n    } catch (error) {\r\n        console.error('Error al inicializar SELECT2:', error);\r\n    }\r\n};\r\n\r\n/**\r\n * Destroys SELECT2 instance for a select element\r\n * @param {string} selector - jQuery selector for the select element\r\n */\r\nwindow.destroySelect2 = function (selector) {\r\n    if (typeof $ === 'undefined') {\r\n        console.error('jQuery is not loaded');\r\n        return;\r\n    }\r\n\r\n    try {\r\n        var $select = $(selector);\r\n        if ($select.length > 0 && $select.data('select2')) {\r\n            $select.select2('destroy');\r\n        }\r\n    } catch (error) {\r\n        console.error('Error al destruir SELECT2:', error);\r\n    }\r\n};\r\n\r\n/**\r\n * Initializes SELECT2 for currency dropdown in edit document modal\r\n * @param {string} selectedValue - Optional selected currency code\r\n */\r\nwindow.initCurrencySelect2 = function (selectedValue) {\r\n    initSelect2('#currency-select-edit', {\r\n        placeholder: 'Seleccione una moneda',\r\n        allowClear: true,\r\n        width: '100%',\r\n        dropdownParent: $('#edit-document-modal')\r\n    }, selectedValue);\r\n};\r\n\r\n/**\r\n * Initializes SELECT2 for document type dropdown in edit document modal\r\n * @param {string} selectedValue - Optional selected document type ID\r\n */\r\nwindow.initDocumentTypeSelect2 = function (selectedValue) {\r\n    initSelect2('#document-type-select-edit', {\r\n        placeholder: 'Seleccione un tipo de documento',\r\n        allowClear: true,\r\n        width: '100%',\r\n        dropdownParent: $('#edit-document-modal')\r\n    }, selectedValue);\r\n};\r\n\r\n/**\r\n * Initializes SELECT2 for society dropdown in edit document modal\r\n * @param {string} selectedValue - Optional selected society CUIT\r\n */\r\nwindow.initSocietySelect2 = function (selectedValue) {\r\n    initSelect2('#society-select-edit', {\r\n        placeholder: 'Seleccione un cliente',\r\n        allowClear: true,\r\n        width: '100%',\r\n        dropdownParent: $('#edit-document-modal')\r\n    }, selectedValue);\r\n};\r\n\r\n/**\r\n * Initializes SELECT2 for provider dropdown in edit document modal\r\n * @param {string} selectedValue - Optional selected provider CUIT\r\n */\r\nwindow.initProviderSelect2 = function (selectedValue) {\r\n    initSelect2('#provider-select-edit', {\r\n        placeholder: 'Seleccione un proveedor',\r\n        allowClear: true,\r\n        width: '100%',\r\n        dropdownParent: $('#edit-document-modal')\r\n    }, selectedValue);\r\n};\r\n\r\n/**\r\n * Cleans up all SELECT2 instances in the edit document modal\r\n */\r\nwindow.cleanupSelect2InModal = function () {\r\n    destroySelect2('#currency-select-edit');\r\n    destroySelect2('#document-type-select-edit');\r\n    destroySelect2('#society-select-edit');\r\n    destroySelect2('#provider-select-edit');\r\n};\r\n"]}